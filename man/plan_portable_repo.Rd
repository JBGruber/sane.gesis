% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_minicran.r
\name{plan_portable_repo}
\alias{plan_portable_repo}
\alias{build_portable_repo}
\title{Build a Portable Package Repository from Project Files}
\usage{
plan_portable_repo(path, add_pkgs = NULL, recursive = TRUE, verbose = TRUE)

build_portable_repo(
  pkgs,
  platforms = "windows",
  r_version = "4.3.2",
  mirror = "https://cloud.r-project.org",
  out_file = "portable_repo.zip",
  verbose = TRUE
)
}
\arguments{
\item{path}{Character string specifying the directory to scan for R files.
Default is current directory.}

\item{add_pkgs}{Additional packages to include.}

\item{recursive}{Logical. Whether to search for packages in a path recursivly.}

\item{verbose}{Logical. Whether to print status to the screen.}

\item{pkgs}{Packages to download.}

\item{platforms}{Character string specifying the package platforms. See
\link[pkgdepends:default_platforms]{pkgdepends::current_r_platform} for options.}

\item{r_version}{Character string specifying the R version for binary packages.
Default is \code{"4.3"}.}

\item{mirror}{Character string specifying the CRAN mirror to use.
Default is \code{"https://cloud.r-project.org"}.}

\item{out_file}{Character string specifying the output zip file name.
Default is \code{"portable_repo.zip"}.}
}
\value{
\code{plan_portable_repo} returns a list of packages; \code{build_portable_repo} invisibly returns
the path to the created zip file.
}
\description{
Scans R scripts, Quarto files, and R Markdown files in a directory to detect
package dependencies, downloads all required packages and their dependencies,
and creates a compressed portable package repository.
}
\details{
Running the functions back to back performs the following steps:
\enumerate{
\item Scans R scripts using \code{attachment::att_from_rscripts()}
\item Scans Quarto files using \code{attachment::att_from_qmds()}
\item Scans R Markdown files using \code{attachment::att_from_rmds()}
\item Creates a package download proposal using \code{pkgdepends::new_pkg_download_proposal()}
\item Resolves all package dependencies
\item Downloads packages to a local repository cache
\item Compresses the repository into a zip file
}
}
\examples{
\dontrun{
# Create a portable repository for Windows binaries
pkgs <- plan_portable_repo(path = ".")
build_portable_repo(pkgs)
}

}
