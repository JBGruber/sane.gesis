% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/build_minicran.r
\name{plan_local_repo}
\alias{plan_local_repo}
\alias{build_local_repo}
\title{Build a miniCRAN Repository from Project Files}
\usage{
plan_local_repo(
  path,
  pkgs = NULL,
  mirror = "https://cloud.r-project.org",
  recursive = TRUE,
  verbose = TRUE
)

build_local_repo(
  pkgs,
  mirror = "https://cloud.r-project.org",
  type = "win.binary",
  r_version = "4.3",
  out_file = "mincran_repo.zip",
  verbose = TRUE
)
}
\arguments{
\item{path}{Character string specifying the directory to scan for R files.
Default is current directory.}

\item{pkgs}{Packages to include in plan/download.}

\item{mirror}{Character string specifying the CRAN mirror to use.
Default is \code{"https://cloud.r-project.org"}.}

\item{recursive}{Logical. Whether to search for packages in a path recursivly.}

\item{verbose}{Logical. Whether to print status to the screen.}

\item{type}{Character string specifying the package type. Options include
\code{"win.binary"}, \code{"mac.binary"}, or \code{"source"}.
Default is \code{"win.binary"}.}

\item{r_version}{Character string specifying the R version for binary packages.
Default is \code{"4.3"}.}

\item{out_file}{Character string specifying the output zip file name.
Default is \code{"mincran_repo.zip"}.}
}
\value{
\code{plan_local_repo} returns a list of packages; \code{build_local_repo} invisibly returns
the path to the created zip file.
}
\description{
Scans R scripts, Quarto files, and R Markdown files in a directory to detect
package dependencies, downloads all required packages and their dependencies,
and creates a compressed miniCRAN repository.
}
\details{
This function performs the following steps:
\enumerate{
\item Scans R scripts using \code{attachment::att_from_rscripts()}
\item Scans Quarto files using \code{attachment::att_from_qmds()}
\item Scans R Markdown files using \code{attachment::att_from_rmds()}
\item Resolves all package dependencies using \code{miniCRAN::pkgDep()}
\item Downloads packages to a temporary repository using \code{miniCRAN::makeRepo()}
\item Compresses the repository into a zip file
}
}
\examples{
\dontrun{
# Create a local repository for Windows binaries
pkgs <- plan_local_repo(path = ".")
build_local_repo(pkgs)
}

}
